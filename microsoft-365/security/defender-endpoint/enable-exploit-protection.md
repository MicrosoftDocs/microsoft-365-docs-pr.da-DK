---
title: Slå udnyttelsesbeskyttelse til for at reducere antallet af angreb
keywords: udnyttelse, afhjælpning, angreb, sikkerhedsrisiko
description: Få mere at vide om, hvordan du aktiverer udnyttelse af beskyttelse Windows. Exploit Protection hjælper med at beskytte din enhed mod malware.
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ksarens
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.collection: m365-security-compliance
ms.date: 10/19/2021
ms.openlocfilehash: 441ad321f5ec38fb3c039abaeb8648498f8afbd2
ms.sourcegitcommit: b0c3ffd7ddee9b30fab85047a71a31483b5c649b
ms.translationtype: MT
ms.contentlocale: da-DK
ms.lasthandoff: 03/25/2022
ms.locfileid: "64470543"
---
# <a name="enable-exploit-protection"></a>Aktivér udnyttelse af beskyttelse

**Gælder for:**
- [Microsoft Defender for Endpoint plan 2](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft Defender for Endpoint plan 1](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> [!TIP]
> Vil du opleve Defender til Slutpunkt? [Tilmeld dig for at få en gratis prøveversion.](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-assignaccess-abovefoldlink)

[Exploit Protection hjælper](exploit-protection.md) med at beskytte mod malware, der bruger udnyttelse til at inficere enheder og sprede sig. Exploit Protection består af mange afhjælpninger, der kan anvendes på enten operativsystemet eller individuelle apps.

> [!IMPORTANT]
> .NET 2.0 er ikke kompatibelt med visse muligheder for udnyttelsesbeskyttelse, nærmere bestemt Eksportér adressefiltrering (EAF) og Import Address Filtering (IAF). Hvis du har aktiveret .NET 2.0, understøttes brugen af EAF og IAF ikke.

Mange funktioner fra EMET (Enhanced Mitigation Experience Toolkit) er inkluderet i exploit protection.

Du kan aktivere hver afhjælpning separat ved hjælp af en af disse metoder:

- [Windows Sikkerhed app](#windows-security-app)
- [Microsoft Intune](#intune)
- [Mobildata Enhedshåndtering (MDM)](#mdm)
- [Microsoft Endpoint Configuration Manager](#microsoft-endpoint-configuration-manager)
- [Gruppepolitik](#group-policy)
- [PowerShell](#powershell)

Exploit Protection er konfigureret som standard i Windows 10 og Windows 11. Du kan indstille hver afhjælpning til at være slået til, fra eller til dens standardværdi. Nogle afhjælpninger har flere muligheder. Du kan [eksportere disse indstillinger som en XML-fil](import-export-exploit-protection-emet-xml.md) og udrulle dem på andre enheder.

Du kan også indstille afhjælpninger til [overvågningstilstand](evaluate-exploit-protection.md). Med overvågningstilstand kan du teste, hvordan afhjælpningerne kan fungere (og gennemgå hændelser), uden at det påvirker den normale brug af enheden.

## <a name="windows-security-app"></a>Windows Sikkerhed app

1. Åbn Windows Sikkerhed-appen ved enten at vælge skjoldikonet på proceslinjen eller ved at søge på menuen Start for **Sikkerhed**.

2. Vælg **flisen & appstyring** (eller appikonet på venstre menulinje), og vælg derefter **Exploit protection-indstillinger**.

3. Gå til **Programindstillinger,** og vælg den app, du vil anvende afhjælpninger på.
    - Hvis den app, du vil konfigurere, allerede er angivet, skal du markere den og derefter vælge **Rediger**.
    - Hvis appen ikke vises, skal du øverst på listen vælge Tilføj **program** for at tilpasse og derefter vælge, hvordan du vil tilføje appen.
    - Brug **Tilføj efter programnavn for at** sikre, at afhjælpningen anvendes på alle kørende processer med det pågældende navn. Angiv en fil med filtypenavnet. Du kan gå hele vejen for at begrænse afhjælpningen til kun at være appen med det pågældende navn på den pågældende placering.
    - Brug **Vælg den nøjagtige sti til** filen for at bruge Windows Stifinder-filvælgervindue til at finde og vælge den ønskede fil.

4. Når du har valgt appen, får du vist en liste over alle de afhjælpninger, der kan anvendes. Hvis du **vælger Overvågning** , anvendes afhjælpningen kun i overvågningstilstand. Du får besked, hvis du skal genstarte processen eller appen, eller hvis du skal genstarte Windows.

5. Gentag trin 3-4 for alle de apps og afhjælpninger, du vil konfigurere.

6. Under sektionen **Systemindstillinger** skal du finde den afhjælpning, du vil konfigurere, og derefter angive en af følgende indstillinger. Apps, der ikke er konfigureret enkeltvis i sektionen **Programindstillinger,** skal bruge de indstillinger, der er konfigureret her.
    - **Til som standard**: Afhjælpningen er *aktiveret* for apps, som ikke har indstillet denne afhjælpning i afsnittet **programspecifikke programindstillinger**
    - **Fra som standard**: Afhjælpningen er *deaktiveret* for apps, som ikke har indstillet denne afhjælpning i sektionen **programspecifikke** programindstillinger
    - **Brug standard**: Afhjælpningen er enten aktiveret eller deaktiveret, afhængigt af den standardkonfiguration, der er konfigureret af Windows 10- eller Windows 11-installationen. Standardværdien **(Til** eller **Fra) er** altid angivet ud for Brug standardetiketten til hver afhjælpning 

7. Gentag trin 6 for alle de afhjælpninger på systemniveau, du vil konfigurere. Vælg **Anvend** , når du er færdig med konfigurationen.

Hvis du føjer en app til sektionen **Programindstillinger** og konfigurerer individuelle afhjælpningsindstillinger der, vil de blive imødekommet ovenfor konfigurationen for de samme afhjælpninger, der er angivet i sektionen **Systemindstillinger** . Følgende matrix og eksempler hjælper med at illustrere, hvordan standardindstillinger fungerer:

|Aktiveret i **programindstillinger**|Aktiveret i **Systemindstillinger**|Funktionsmåde|
|:---|:---|:---|
|Ja|Nej|Som defineret i **Programindstillinger**|
|Ja|Ja|Som defineret i **Programindstillinger**|
|Nej|Ja|Som defineret i **Systemindstillinger**|
|Nej|Ja|Standard som defineret i **Brug standardindstilling**|

### <a name="example-1-mikael-configures-data-execution-prevention-in-system-settings-section-to-be-off-by-default"></a>Eksempel 1: serverkonfigurationen konfigurerer Forebyggelse af datakørsel i sektionen Systemindstillinger til at være slået fra som standard

Føjer *appenstest.exe* til **sektionen Programindstillinger** . In the options for that app, under **Data Execution Prevention (DEP)**, enables the **Override system settings** option and sets the switch to **On**. Der er ikke angivet andre apps i **sektionen Programindstillinger** .

Resultatet er, at DEP kun er aktiveret for *test.exe*. Der er ikke anvendt DEP i alle andre apps.

### <a name="example-2-josie-configures-data-execution-prevention-in-system-settings-to-be-off-by-default"></a>Eksempel 2: Josie konfigurerer forebyggelse af datakørsel i systemindstillingerne til at være slået fra som standard

Josie føjer app *-test.exe* til **sektionen Programindstillinger** . I indstillingerne for den pågældende app aktiverer Josie indstillingen Til under Forhindring af datakørsel (Data Execution **Prevention**), Josie indstillingen **Til****.**

Josie føjer også app *-miles.exe* **til sektionen Programindstillinger** og konfigurerer **Control flow guard (CFG)** **til Til**. Josie aktiverer ikke indstillingen **Tilsidesæt systemindstillinger** for dep eller andre afhjælpninger af den pågældende app.

Resultatet er, at DEP er aktiveret til *test.exe*. DEP aktiveres ikke for andre apps, herunder *miles.exe*. CFG aktiveres for *miles.exe*.

1. Åbn appen Windows Sikkerhed ved at vælge skjoldikonet på proceslinjen eller søge i menuen Start efter **Windows Sikkerhed**.

2. Vælg **flisen & appstyring** (eller appikonet på menulinjen til venstre), og vælg derefter **Exploit protection**.

3. Gå til **Programindstillinger,** og vælg den app, du vil anvende afhjælpninger på.<br/>
    - Hvis den app, du vil konfigurere, allerede er angivet, skal du markere den og derefter vælge **Rediger**.
    - Hvis appen ikke vises, skal du øverst på listen vælge Tilføj **program** for at tilpasse og derefter vælge, hvordan du vil tilføje appen.<br/>
      - Brug **Tilføj efter programnavn for at** sikre, at afhjælpningen anvendes på alle kørende processer med det pågældende navn. Angiv en fil med et filtypenavn. Du kan gå hele vejen for at begrænse afhjælpningen til kun at være appen med det pågældende navn på den pågældende placering.
      - Brug **Vælg den nøjagtige sti til** filen for at bruge Windows Stifinder-filvælgervindue til at finde og vælge den ønskede fil.

4. Når du har valgt appen, får du vist en liste over alle de afhjælpninger, der kan anvendes. Hvis du **vælger Overvågning** , anvendes afhjælpningen kun i overvågningstilstand. Du får besked, hvis du skal genstarte processen eller appen, eller hvis du skal genstarte Windows.

5. Gentag trin 3-4 for alle de apps og afhjælpninger, du vil konfigurere. Vælg **Anvend** , når du er færdig med konfigurationen.

## <a name="intune"></a>Intune

1. Log [på Azure Portal og](https://portal.azure.com) åbn Intune.

2. Gå til **Enhedskonfigurationsprofiler** \>  \> **Opret profil**.

3. Navngive profilen, **Windows 10 senere og** **Endpoint Protection**.

   :::image type="content" source="images/create-endpoint-protection-profile.png" alt-text="Opret profil til slutpunktsbeskyttelse" lightbox="images/create-endpoint-protection-profile.png":::

4. Vælg **Konfigurer** \> **Windows Defender Exploit Guard** \> **Exploit Protection**.

5. Upload EN [XML-fil](/windows/client-management/mdm/policy-csp-exploitguard) med indstillingerne for udnyttelse af beskyttelse:

   :::image type="content" source="images/enable-ep-intune.png" alt-text="Indstillingen Aktivér netværksbeskyttelse i Intune" lightbox="images/enable-ep-intune.png":::

6. Vælg **OK** for at gemme hver enkelt åbne blade, og vælg derefter **Opret**.

7. Vælg fanen **profiltildelinger** , tildel politikken til **Alle brugere & Alle enheder**, og vælg derefter **Gem**.

## <a name="mdm"></a>MDM

Brug [konfigurationskonfigurationen ./Vendor/MSFT/Policy/Config/ExploitGuard/ExploitProtectionSettings](/windows/client-management/mdm/policy-csp-exploitguard) serviceudbyder (CSP) til at aktivere eller deaktivere afhjælpning af udnyttelse af beskyttelsen eller til at bruge overvågningstilstand.

## <a name="microsoft-endpoint-manager"></a>Microsoft Endpoint Manager

1. I Microsoft Endpoint Manager skal du gå til **reduktion af endpoint Security** \> **Attack surface**.

2. Vælg **Opret politikplatform**\>, og ud for **Profil** skal du **vælge Exploit Protection**. Vælg derefter **Opret**.

3. Angiv et navn og en beskrivelse, og vælg derefter **Næste**.

4. Vælg **Vælg XML-fil** , og gå til placeringen af XML-filen med udnyttelsesbeskyttelse. Markér filen, og vælg derefter **Næste**.

5. Konfigurer **omfangsmærker** og **tildelinger, hvis** det er nødvendigt.

6. Gennemgå **dine konfigurationsindstillinger** under Gennemse + opret, og vælg derefter **Opret**.

## <a name="microsoft-endpoint-configuration-manager"></a>Microsoft Endpoint Configuration Manager

1. I Microsoft Endpoint Configuration Manager skal du gå **til Assets and Compliance Endpoint Protection** \>  \> **Windows Defender Exploit Guard**.

2. Vælg **Home** \> **Create Exploit Guard-politik**.

3. Angiv et navn og en beskrivelse, vælg **Exploit protection**, og vælg derefter **Næste**.

4. Gå til placeringen for XML-filen, der udnytter beskyttelse, og vælg **Næste**.

5. Gennemse indstillingerne, og vælg derefter **Næste for** at oprette politikken.

6. Når politikken er oprettet, skal du vælge **Luk**.

## <a name="group-policy"></a>Gruppepolitik

1. På Gruppepolitik administrationsenhed skal du åbne Gruppepolitik [Administrationskonsol](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731212(v=ws.11)), højreklikke på det Gruppepolitik objekt, du vil konfigurere, og klikke på **Rediger**.

2. I Gruppepolitik **skal du gå** til **Computerkonfiguration og** vælge **Administrative skabeloner**.

3. Udvid træet til **at Windows komponenter** \> **Windows Defender Exploit Guard** \> **Exploit Protection** \> **Brug et fælles sæt af indstillinger for udnyttelse af beskyttelse**.

4. Vælg **Aktiveret** , skriv placeringen af [XML-filen](/windows/client-management/mdm/policy-csp-exploitguard), og vælg derefter **OK**.

## <a name="powershell"></a>PowerShell

Du kan bruge PowerShell-verbum `Get` eller `Set` med cmdlet'en `ProcessMitigation`. Når `Get` du bruger denne liste, vises den aktuelle konfigurationsstatus for eventuelle afhjælpninger, der er blevet aktiveret på enheden – `-Name` tilføj cmdlet'en og app-exe for at se afhjælpninger for netop den pågældende app:

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> Afhjælpninger på systemniveau, der ikke er konfigureret, viser en status for `NOTSET`.
>
> - For indstillinger på systemniveau angiver den `NOTSET` standardindstilling, for hvilken afhjælpningen er blevet anvendt.
> - For indstillinger på appniveau angiver `NOTSET` det, at indstillingen på systemniveau for afhjælpningen vil blive anvendt.
> Standardindstillingen for hver afhjælpning på systemniveau kan ses i Windows Sikkerhed.

Bruges `Set` til at konfigurere hver afhjælpning i følgende format:

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

Hvor:

- \<Scope\>:
  - `-Name` for at indikere, at afhjælpningerne bør anvendes på en bestemt app. Angiv appens eksekverbare navn efter dette flag.
    - `-System` for at indikere, at afhjælpningen skal anvendes på systemniveau
- \<Action\>:
  - `-Enable` for at afhjælpe afhjælpningen
  - `-Disable` for at deaktivere afhjælpningen
- \<Mitigation\>:
  - Afhjælpningens cmdlet samt eventuelle undermuligheder (omgivet af mellemrum). Hver afhjælpning er adskilt med et komma.

Hvis du f.eks. vil aktivere afhjælpning af forhindring af datakørsel med ATL-ekvemulation og for en eksekverbar *fil kaldettesting.exe* i mappen *C:\Apps\LOB\tests*, og for at forhindre eksekverbare filer i at oprette underordnede processer, skal du bruge følgende kommando:

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> Adskid hver afhjælpningsindstilling med kommaer.

Hvis du vil anvende DEP på systemniveau, skal du bruge følgende kommando:

```PowerShell
Set-Processmitigation -System -Enable DEP
```

For at deaktivere afhjælpninger kan du erstatte `-Enable` med `-Disable`. Men for afhjælpninger på appniveau tvinger denne handling afhjælpningen til kun at blive deaktiveret for den pågældende app.

Hvis du har brug for at gendanne afhjælpningen tilbage til systemstandarden, `-Remove` skal du også inkludere cmdlet'en, som i følgende eksempel:

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

I følgende tabel vises de individuelle **afhjælpninger** (og **revisioner**, når de er tilgængelige), der skal bruges sammen med eller `-Enable` `-Disable` cmdlet-parametrene.<br/><br/>

|Afhjælpningstype|Gælder for|Cmdlet-parameterens nøgleord for afhjælpning|Cmdlet-parameter i overvågningstilstand|
|---|---|---|---|
|Control flow guard (CFG)|System- og appniveau|`CFG`, `StrictCFG`, `SuppressExports`|Overvågning er ikke tilgængelig|
|Forhindring af datakørsel|System- og appniveau|`DEP`, `EmulateAtlThunks`|Overvågning er ikke tilgængelig|
|Gennemtving randomisering af billeder (mandatory ASLR)|System- og appniveau|`ForceRelocateImages`|Overvågning er ikke tilgængelig|
|Randomisere hukommelsesallokering (Bund-Op ASLR)|System- og appniveau|`BottomUp`, `HighEntropy`|Overvågning er ikke tilgængelig
|Valider undtagelseskæder (SEHOP)|System- og appniveau|`SEHOP`, `SEHOPTelemetry`|Overvågning er ikke tilgængelig|
|Valider heap integritet|System- og appniveau|`TerminateOnError`|Overvågning er ikke tilgængelig|
|Vilkårlig code guard (ACG)|Kun på appniveau|`DynamicCode`|`AuditDynamicCode`|
|Bloker billeder med lav integritet|Kun på appniveau|`BlockLowLabel`|`AuditImageLoad`|
|Bloker eksterne billeder|Kun på appniveau|`BlockRemoteImages`|Overvågning er ikke tilgængelig|
|Bloker upålidelige skrifttyper|Kun på appniveau|`DisableNonSystemFonts`|`AuditFont`, `FontAuditOnly`|
|Code integrity guard|Kun på appniveau|`BlockNonMicrosoftSigned`, `AllowStoreSigned`|AuditMicrosoftSigned, AuditStoreSigned|
|Deaktiver udvidelsespunkter|Kun på appniveau|`ExtensionPoint`|Overvågning er ikke tilgængelig|
|Deaktiver Win32k-systemopkald|Kun på appniveau|`DisableWin32kSystemCalls`|`AuditSystemCall`|
|Tillad ikke underordnede processer|Kun på appniveau|`DisallowChildProcessCreation`|`AuditChildProcess`|
|Eksportér adressefiltrering (EAF)|Kun på appniveau|`EnableExportAddressFilterPlus`, `EnableExportAddressFilter` <a href="#r1" id="t1">\[1\]</a>|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Importér adressefiltrering (IAF)|Kun på appniveau|`EnableImportAddressFilter`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Simulere udførelse (SimExec)|Kun på appniveau|`EnableRopSimExec`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Valider API-aktivering (CallerCheck)|Kun på appniveau|`EnableRopCallerCheck`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Valider håndteringsforbrug|Kun på appniveau|`StrictHandle`|Overvågning er ikke tilgængelig|
|Valider billedes afhængighedsintegritet|Kun på appniveau|`EnforceModuleDepencySigning`|Overvågning er ikke tilgængelig|
|Valider stakintegritet (StackPivot)|Kun på appniveau|`EnableRopStackPivot`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|

<a href="#t1" id="r1">\[1\]</a>: Brug følgende format til at aktivere EAF-moduler for URL-adresser for en proces:

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```

<a href="#t2" id="r2">\[2\]</a>: Overvågning af denne afhjælpning er ikke tilgængelig via PowerShell-cmdlet'er.

## <a name="customize-the-notification"></a>Tilpasse meddelelsen

Du kan finde oplysninger om, hvordan du tilpasser meddelelsen, når en regel udløses, og en app eller fil blokeres, [under Windows Sikkerhed](/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center).

## <a name="see-also"></a>Se også

- [Evaluer udnyttelsesbeskyttelse](evaluate-exploit-protection.md)
- [Konfigurere og overvåge afhjælpning af udnyttelse](customize-exploit-protection.md)
- [Importere, eksportere og implementere konfigurationer af exploit protection](import-export-exploit-protection-emet-xml.md)
