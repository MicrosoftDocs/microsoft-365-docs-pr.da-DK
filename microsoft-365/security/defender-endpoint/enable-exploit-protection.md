---
title: Slå Exploit Protection til for at afhjælpe angreb
keywords: udnyttelse, afhjælpning, angreb, sårbarhed
description: Få mere at vide om, hvordan du aktiverer Exploit Protection i Windows. Exploit Protection hjælper med at beskytte din enhed mod malware.
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.localizationpriority: medium
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ksarens
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.collection: m365-security-compliance
ms.date: 10/19/2021
ms.openlocfilehash: 441ad321f5ec38fb3c039abaeb8648498f8afbd2
ms.sourcegitcommit: b0c3ffd7ddee9b30fab85047a71a31483b5c649b
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 03/25/2022
ms.locfileid: "64470543"
---
# <a name="enable-exploit-protection"></a>Aktivér Exploit Protection

**Gælder for:**
- [Microsoft Defender for Endpoint Plan 2](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft Defender for Endpoint Plan 1](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

> [!TIP]
> Vil du opleve Defender for Endpoint? [Tilmeld dig en gratis prøveversion.](https://signup.microsoft.com/create-account/signup?products=7f379fee-c4f9-4278-b0a1-e4c8c2fcdf7e&ru=https://aka.ms/MDEp2OpenTrial?ocid=docs-wdatp-assignaccess-abovefoldlink)

[Exploit Protection](exploit-protection.md) hjælper med at beskytte mod malware, der bruger udnyttelser til at inficere enheder og sprede sig. Exploit Protection består af mange afhjælpninger, der kan anvendes på enten operativsystemet eller individuelle apps.

> [!IMPORTANT]
> .NET 2.0 er ikke kompatibel med visse Exploit Protection-funktioner, især EAF (Export Address Filtering) og IAF (Import Address Filtering). Hvis du har aktiveret .NET 2.0, understøttes brug af EAF og IAF ikke.

Mange funktioner fra EMET (Enhanced Mitigation Experience Toolkit) er inkluderet i Exploit Protection.

Du kan aktivere hver afhjælpning separat ved hjælp af en af disse metoder:

- [Windows Sikkerhed app](#windows-security-app)
- [Microsoft Intune](#intune)
- [Administration af mobilenheder (MDM)](#mdm)
- [Microsoft Endpoint Configuration Manager](#microsoft-endpoint-configuration-manager)
- [Gruppepolitik](#group-policy)
- [PowerShell](#powershell)

Exploit Protection er som standard konfigureret i Windows 10 og Windows 11. Du kan indstille hver afhjælpning til til, fra eller til standardværdien. Nogle afhjælpninger har flere muligheder. Du kan [eksportere disse indstillinger som en XML-fil](import-export-exploit-protection-emet-xml.md) og installere dem på andre enheder.

Du kan også indstille afhjælpninger til [overvågningstilstand](evaluate-exploit-protection.md). Overvågningstilstand giver dig mulighed for at teste, hvordan afhjælpningerne fungerer (og gennemse hændelser) uden at påvirke den normale brug af enheden.

## <a name="windows-security-app"></a>Windows Sikkerhed app

1. Åbn Windows Sikkerhed-appen ved enten at vælge skjoldikonet på proceslinjen eller ved at søge i menuen Start for **Sikkerhed**.

2. Vælg feltet **App- og browserstyring** (eller appikonet på menulinjen til venstre), og vælg derefter **Indstillinger for Exploit Protection**.

3. Gå til **Programindstillinger**, og vælg den app, du vil anvende afhjælpninger på.
    - Hvis den app, du vil konfigurere, allerede er angivet, skal du markere den og derefter vælge **Rediger**.
    - Hvis appen ikke vises, skal du øverst på listen vælge **Tilføj program for at tilpasse** og derefter vælge, hvordan du vil tilføje appen.
    - Brug **Tilføj efter programnavn** for at anvende afhjælpningen på alle kørende processer med dette navn. Angiv en fil med dets filtypenavn. Du kan angive en komplet sti for kun at begrænse afhjælpningen til den app, der har det pågældende navn på den pågældende placering.
    - Brug **Vælg nøjagtig filsti** til at bruge et standardvindue til Windows Stifinder filvælger til at finde og vælge den ønskede fil.

4. Når du har valgt appen, får du vist en liste over alle de afhjælpninger, der kan anvendes. Hvis du vælger **Overvågning**, anvendes afhjælpningen kun i overvågningstilstand. Du får besked, hvis du skal genstarte processen eller appen, eller hvis du har brug for at genstarte Windows.

5. Gentag trin 3-4 for alle de apps og afhjælpninger, du vil konfigurere.

6. Find den afhjælpning, du vil konfigurere, under sektionen **Systemindstillinger**, og angiv derefter en af følgende indstillinger. Apps, der ikke er konfigureret individuelt i sektionen **Programindstillinger**, bruger de indstillinger, der er konfigureret her.
    - **Slået til som standard**: Afhjælpningen er *aktiveret* for apps, der ikke har dette afhjælpningssæt i det app-specifikke afsnit **Programindstillinger**
    - **Slået fra som standard**: Afhjælpningen er *deaktiveret* for apps, der ikke har dette afhjælpningssæt i det app-specifikke afsnit **programindstillinger**
    - **Brug standard**: Afhjælpningen er enten aktiveret eller deaktiveret, afhængigt af den standardkonfiguration, der er konfigureret af Windows 10- eller Windows 11-installation; er standardværdien (**Til** eller **Fra**) altid angivet ud for **Brug standardmærkaten** for hver afhjælpning

7. Gentag trin 6 for alle de afhjælpninger på systemniveau, du vil konfigurere. Vælg **Anvend**, når du er færdig med at konfigurere din konfiguration.

Hvis du føjer en app til sektionen **Programindstillinger** og konfigurerer individuelle indstillinger for afhjælpning der, vil de blive overholdt over konfigurationen for de samme afhjælpninger, der er angivet i afsnittet **Systemindstillinger**. . Følgende matrix og eksempler hjælper med at illustrere, hvordan standardindstillinger fungerer:

|Aktiveret i **Programindstillinger**|Aktiveret i **Systemindstillinger**|Funktionsmåde|
|:---|:---|:---|
|Ja|Nej|Som defineret i **Programindstillinger**|
|Ja|Ja|Som defineret i **Programindstillinger**|
|Nej|Ja|Som defineret i **Systemindstillinger**|
|Nej|Ja|Standard som defineret i **Brug standardindstilling**|

### <a name="example-1-mikael-configures-data-execution-prevention-in-system-settings-section-to-be-off-by-default"></a>Eksempel 1: Mikael konfigurerer forhindring af datakørsel i sektionen systemindstillinger til at være slået fra som standard

Mikael føjer appen *test.exe* til sektionen **Programindstillinger**. I indstillingerne for den pågældende app under **Forhindring af datakørsel (DEP)** aktiverer Mikael Indstillingen **Tilsidesæt systemindstillinger** og slår skift til **Til.** Der er ikke angivet andre apps i sektionen **Programindstillinger**.

Resultatet er, at DEP kun er aktiveret for *test.exe*. DEP er ikke anvendt for alle andre apps.

### <a name="example-2-josie-configures-data-execution-prevention-in-system-settings-to-be-off-by-default"></a>Eksempel 2: Josie konfigurerer forhindring af datakørsel i sektionen systemindstillinger til at være slået fra som standard

Josie føjer appen *test.exe* til sektionen **Programindstillinger**. I indstillingerne for den pågældende app under **Forhindring af datakørsel (DEP)** aktiverer Josie Indstillingen **Tilsidesæt systemindstillinger** og indstiller omskifteren til **Til.**

Josie føjer også appen *miles.exe* til afsnittet **Programindstillinger** og konfigurerer **Kontrolflowbeskyttelse (CFG)** til **Til**. Josie aktiverer ikke indstillingen **Tilsidesæt systemindstillinger** for DEP eller andre afhjælpninger for den pågældende app.

Resultatet er, at DEP er aktiveret for *test.exe*. DEP vil ikke blive aktiveret for andre apps, herunder *miles.exe*. CFG aktiveres for *miles.exe*.

1. Åbn Windows Sikkerhed-appen ved enten at vælge skjoldikonet på proceslinjen eller ved at søge i menuen Start for **Windows Sikkerhed**.

2. Vælg feltet **App- og browserstyring** (eller appikonet på venstre menulinje), og vælg derefter **Exploit Protection**.

3. Gå til **Programindstillinger**, og vælg den app, du vil anvende afhjælpninger på.<br/>
    - Hvis den app, du vil konfigurere, allerede er angivet, skal du markere den og derefter vælge **Rediger**.
    - Hvis appen ikke vises, skal du øverst på listen vælge **Tilføj program for at tilpasse** og derefter vælge, hvordan du vil tilføje appen.<br/>
      - Brug **Tilføj efter programnavn** for at anvende afhjælpningen på alle kørende processer med dette navn. Angiv en fil med et filtypenavn. Du kan angive en komplet sti for kun at begrænse afhjælpningen til den app, der har det pågældende navn på den pågældende placering.
      - Brug **Vælg nøjagtig filsti** til at bruge et standardvindue til Windows Stifinder filvælger til at finde og vælge den ønskede fil.

4. Når du har valgt appen, får du vist en liste over alle de afhjælpninger, der kan anvendes. Hvis du vælger **Overvågning**, anvendes afhjælpningen kun i overvågningstilstand. Du får besked, hvis du har brug for at genstarte processen eller appen, eller hvis du har brug for at genstarte Windows.

5. Gentag trin 3-4 for alle de apps og afhjælpninger, du vil konfigurere. Vælg **Anvend**, når du er færdig med at konfigurere din konfiguration.

## <a name="intune"></a>Intune

1. Log på [Azure Portal](https://portal.azure.com), og åbn Intune.

2. Gå til **Enhedskonfiguration** \> **Profiler** \> **Opret profil**.

3. Navngiv profilen, vælg **Windows 10 og nyere** og **Endpoint Protection**.

   :::image type="content" source="images/create-endpoint-protection-profile.png" alt-text="Profilen Opret Endpoint Protection" lightbox="images/create-endpoint-protection-profile.png":::

4. Vælg **Konfigurer****\>Windows Defender Exploit Guard**\>**Exploit Protection**.

5. Upload en [XML-fil](/windows/client-management/mdm/policy-csp-exploitguard) med indstillingerne for Exploit Protection:

   :::image type="content" source="images/enable-ep-intune.png" alt-text="Indstillingen Aktivér netværksbeskyttelse i Intune" lightbox="images/enable-ep-intune.png":::

6. Vælg **OK** for at gemme hvert åbent blad, og vælg derefter **Opret**.

7. Vælg fanen **Profiltildelinger**, tildel politikken til **Alle brugere og alle enheder** og vælg derefter **Gem**.

## <a name="mdm"></a>MDM

Brug [./Vendor/MSFT/Policy/Config/ExploitGuard/ExploitProtectionSettings](/windows/client-management/mdm/policy-csp-exploitguard) CSP (Configuration Service Provider) til at aktivere eller deaktivere afhjælpning af udnyttelsesbeskyttelse eller til at bruge overvågningstilstand.

## <a name="microsoft-endpoint-manager"></a>Microsoft Endpoint Manager

1. I Microsoft Endpoint Manager skal du gå til **Endpoint Security** \> **Reduktion af angrebsoverflade**.

2. Vælg **Opret politik**\>**Platform**, og vælg **Exploit Protection** for **Profil**. Vælg derefter **Opret**.

3. Angiv et navn og en beskrivelse, og vælg derefter **Næste**.

4. Vælg **Vælg XML-fil** og gå til placeringen af XML-filen til Exploit Protection. Markér filen, og vælg derefter **Næste**.

5. Konfigurer **Områdemærker** og **Tildelinger**, hvis det er nødvendigt.

6. Gennemgå dine konfigurationsindstillinger under **Gennemse + opret**, og vælg derefter **Opret**.

## <a name="microsoft-endpoint-configuration-manager"></a>Microsoft Endpoint Configuration Manager

1. I Microsoft Endpoint Konfigurationsstyring skal du gå til **Assets and Compliance**\>**Endpoint Protection**\>**Windows Defender Exploit Guard**.

2. Vælg **Home** \> **Opret Exploit Guard-politik**.

3. Angiv et navn og en beskrivelse, og vælg **Exploit Protection** og vælg dernæst **Næste**.

4. Gå til placeringen af XML-filen til Exploit Protection og vælg **Næste**.

5. Gennemse indstillingerne, og vælg derefter **Næste** for at oprette politikken.

6. Når politikken er oprettet, skal du vælge **Luk**.

## <a name="group-policy"></a>Gruppepolitik

1. Åbn [Group Policy Management Console](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731212(v=ws.11)) på Gruppepolitik administrationsenheden, højreklik på det Gruppepolitik objekt, du vil konfigurere, og klik på **Rediger**.

2. I **Gruppepolitik Management Editor** skal du gå til **Computerkonfiguration** og vælge **Administrative skabeloner**.

3. Udvid træet til **Windows-komponenter** \> **Windows Defender Exploit Guard** \> **Exploit Protection** \> **Brug et fælles sæt indstillinger for Exploit Protection**.

4. Vælg **Aktiveret**, skriv placeringen af [XML-filen](/windows/client-management/mdm/policy-csp-exploitguard), og vælg derefter **OK**.

## <a name="powershell"></a>PowerShell

Du kan bruge PowerShell-verbet `Get` eller `Set` med cmdlet'en `ProcessMitigation`. Hvis du bruger `Get`, vises den aktuelle konfigurationsstatus for eventuelle afhjælpninger, der er aktiveret på enheden. Tilføj `-Name` cmdlet og app-exe for kun at få vist afhjælpninger for den pågældende app:

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> Afhjælpninger på systemniveau, der ikke er konfigureret, viser statussen `NOTSET`.
>
> - I forbindelse med indstillinger på systemniveau angiver `NOTSET` standardindstillingen for den pågældende afhjælpning.
> - For indstillinger på appniveau angiver `NOTSET` indstillingen på systemniveau for afhjælpningen.
> Standardindstillingen for hver afhjælpning på systemniveau kan ses i Windows Sikkerhed.

Brug `Set` til at konfigurere hver afhjælpning i følgende format:

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

Hvor:

- \<Scope\>:
  - `-Name` for at angive, at afhjælpningerne skal anvendes på en bestemt app. Angiv appens eksekverbare fil efter dette flag.
    - `-System` for at angive, at afhjælpningen skal anvendes på systemniveau
- \<Action\>:
  - `-Enable` for at aktivere afhjælpningen
  - `-Disable` for at deaktivere afhjælpningen
- \<Mitigation\>:
  - Afhjælpningens cmdlet sammen med eventuelle underindstillinger (omgivet af mellemrum). Hver afhjælpning er adskilt med et komma.

Hvis du f.eks. vil aktivere afhjælpning af forhindring af datakørsel med ATL-emulering og for en eksekverbar fil kaldet *testing.exe* i mappen *C:\Apps\LOB\tests* og forhindre, at den eksekverbare fil opretter underordnede processer, skal du bruge følgende kommando:

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> Adskil hver afhjælpningsindstilling med kommaer.

Hvis du vil anvende DEP på systemniveau, skal du bruge følgende kommando:

```PowerShell
Set-Processmitigation -System -Enable DEP
```

Hvis du vil deaktivere afhjælpninger, kan du erstatte `-Enable` med `-Disable`. For afhjælpninger på appniveau tvinger denne handling dog kun afhjælpningen til at være deaktiveret for den pågældende app.

Hvis du vil gendanne afhjælpningen tilbage til systemstandarden, skal du også medtage `-Remove` cmdlet som i følgende eksempel:

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

I følgende tabel vises de individuelle **Afhjælpninger** (og **Overvågninger**, når de er tilgængelige), der skal bruges sammen med `-Enable` eller `-Disable` cmdlet-parametre.<br/><br/>

|Afhjælpningstype|Gælder for|Parameternøgleord for afhjælpnings-cmdlet|Cmdlet-parameter for overvågningstilstand|
|---|---|---|---|
|Kontrolflowbeskyttelse (CFG)|System- og appniveau|`CFG`, `StrictCFG`, `SuppressExports`|Overvågning er ikke tilgængelig|
|Forhindring af datakørsel (DEP)|System- og appniveau|`DEP`, `EmulateAtlThunks`|Overvågning er ikke tilgængelig|
|Gennemtving tilfældigheder for afbildninger (obligatorisk ASLR)|System- og appniveau|`ForceRelocateImages`|Overvågning er ikke tilgængelig|
|Randomiser hukommelsesallokeringer (bottom-up ASLR)|System- og appniveau|`BottomUp`, `HighEntropy`|Overvågning er ikke tilgængelig
|Valider undtagelseskæder (SEHOP)|System- og appniveau|`SEHOP`, `SEHOPTelemetry`|Overvågning er ikke tilgængelig|
|Valider heap-integriteten|System- og appniveau|`TerminateOnError`|Overvågning er ikke tilgængelig|
|ACG (Arbitrary Code Guard; beskyttelse mod skadelig kode)|Kun på appniveau|`DynamicCode`|`AuditDynamicCode`|
|Bloker for afbildninger med lav integritet|Kun på appniveau|`BlockLowLabel`|`AuditImageLoad`|
|Bloker fjernafbildninger|Kun på appniveau|`BlockRemoteImages`|Overvågning er ikke tilgængelig|
|Bloker de skrifttyper, der ikke er tillid til|Kun på appniveau|`DisableNonSystemFonts`|`AuditFont`, `FontAuditOnly`|
|Beskyttelse af kodeintegritet|Kun på appniveau|`BlockNonMicrosoftSigned`, `AllowStoreSigned`|AuditMicrosoftSigned, AuditStoreSigned|
|Deaktiver udvidelsespunkter|Kun på appniveau|`ExtensionPoint`|Overvågning er ikke tilgængelig|
|Deaktiver Win32k-systemkald|Kun på appniveau|`DisableWin32kSystemCalls`|`AuditSystemCall`|
|Tillad ikke underprocesser|Kun på appniveau|`DisallowChildProcessCreation`|`AuditChildProcess`|
|Eksportadressefiltrering (EAF)|Kun på appniveau|`EnableExportAddressFilterPlus`, `EnableExportAddressFilter` <a href="#r1" id="t1">\[1\]</a>|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Importadressefiltrering (IAF)|Kun på appniveau|`EnableImportAddressFilter`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Simuler udførelse (SimExec)|Kun på appniveau|`EnableRopSimExec`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Valider API-aktivering (CallerCheck)|Kun på appniveau|`EnableRopCallerCheck`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|
|Ugyldig anvendelse af handle|Kun på appniveau|`StrictHandle`|Overvågning er ikke tilgængelig|
|Valider integriteten af afbildningsafhængighed|Kun på appniveau|`EnforceModuleDepencySigning`|Overvågning er ikke tilgængelig|
|Valider stakintegritet (StackPivot)|Kun på appniveau|`EnableRopStackPivot`|Overvågning er ikke tilgængelig <a href="#r2" id="t2">\[2\]</a>|

<a href="#t1" id="r1">\[1\]</a>: Brug følgende format til at aktivere EAF-moduler for DLL-filer for en proces:

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```

<a href="#t2" id="r2">\[2\]</a>: Overvågning af denne afhjælpning er ikke tilgængelig via PowerShell-cmdlet'er.

## <a name="customize-the-notification"></a>Tilpas meddelelsen

Du kan få oplysninger om tilpasning af meddelelsen, når en regel udløses, og en app eller fil blokeres, under [Windows Sikkerhed](/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center).

## <a name="see-also"></a>Se også

- [Evaluer beskyttelse mod udnyttelse](evaluate-exploit-protection.md)
- [Konfigurer og overvåg afhjælpninger af exploit protection](customize-exploit-protection.md)
- [Importer, eksporter og implementer konfigurationer af exploit protection](import-export-exploit-protection-emet-xml.md)
